<!DOCTYPE html>
<html lang="mr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>‡§Ü‡§ú‡§ö‡•á ‡§™‡§Ç‡§ö‡§æ‡§Ç‡§ó ‚Äì OmKarmyog</title>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Devanagari:wght@400;600;700;900&display=swap" rel="stylesheet">

<!-- HTML2Canvas -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

<style>
*{
    margin:0;
    padding:0;
    box-sizing:border-box;
}

body{
    font-family:'Noto Sans Devanagari',sans-serif;
    background:#e9e9e9;
    padding:10px;
}

/* MAIN CARD WRAPPER */
#card{
    width:100%;
    max-width:1080px;
    margin:0 auto;
    background:white;
    border-radius:14px;
    overflow:hidden;
    box-shadow:0 5px 30px rgba(0,0,0,0.25);
}

/* TOP HEADER */
.top-header{
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:20px;
    background:#ffffff;
    border-bottom:6px solid #d32f2f;
}

.left-info{
    max-width:40%;
}

.left-info .title{
    font-size:26px;
    font-weight:900;
    color:#0d0d0d;
}

.left-info .date{
    margin-top:8px;
    font-size:22px;
    font-weight:800;
    color:#d32f2f;
}

.left-info .day{
    font-size:20px;
    font-weight:700;
    margin-top:3px;
    color:#d32f2f;
}

.ganesh-center{
    flex:1;
    text-align:center;
}

.ganesh-center img{
    width:160px;
    height:160px;
    object-fit:contain;
}

.logo-right img{
    width:110px;
    object-fit:contain;
}

/* SHALIVAHAN SECTION */
.red-header{
    background:#ba000d;
    text-align:center;
    padding:20px 10px;
    color:white;
}

.red-header h2{
    font-size:28px;
    font-weight:900;
}

.red-header p{
    font-size:24px;
    margin-top:5px;
    font-weight:600;
}

/* BLUE SUN AREA */
.blue-section{
    background:#0d47a1;
    padding:15px;
    display:flex;
    justify-content:space-around;
}

.sun-box{
    background:rgba(255,255,255,0.2);
    padding:15px 30px;
    border-radius:10px;
    display:flex;
    align-items:center;
    gap:10px;
}

.sun-icon{
    font-size:30px;
}

.sun-data h4{
    color:white;
    font-size:16px;
}

.sun-data .time{
    color:#ffd700;
    font-size:26px;
    font-weight:900;
}

/* PANCHANG TABLE */
.table-box{
    padding:10px;
    background:#fffef6;
}

table{
    width:100%;
    border-collapse:collapse;
}

th,td{
    border:2px solid #ffb300;
    padding:10px 6px;
    text-align:center;
    font-size:18px;
    font-weight:600;
}

td.icon{
    font-size:22px;
}

/* RASHI SECTION */
.rashi-row{
    display:flex;
    gap:10px;
    padding:15px;
}

.rashi-card{
    flex:1;
    background:white;
    padding:12px;
    border:3px solid #ffb300;
    border-radius:10px;
    text-align:center;
}

.rashi-card .icon{
    font-size:34px;
}

.rashi-card .label{
    font-size:16px;
    color:#555;
}

.rashi-card .value{
    font-size:24px;
    font-weight:900;
    color:#c62828;
}

/* FOOTER */
.footer{
    background:#4E0B0B;
    padding:20px;
    display:flex;
    justify-content:space-between;
    align-items:center;
}

.footer-left{
    color:white;
    flex:1;
}

.footer-left .name{
    font-size:26px;
    font-weight:900;
    color:#ffeb3b;
}

.footer-left .office{
    font-size:20px;
}

.footer-left .contact{
    font-size:20px;
    margin-top:5px;
}

.footer-right img{
    width:150px;
    height:150px;
    object-fit:cover;
    border-radius:10px;
    border:4px solid #ffb300;
}

/* BUTTON */
.download-btn{
    width:100%;
    margin-top:15px;
    padding:18px;
    background:#c62828;
    color:white;
    font-size:20px;
    border:none;
    border-radius:12px;
    font-weight:900;
}

/* MOBILE FIXES */
@media(max-width:600px){
    .left-info .title{font-size:20px;}
    .left-info .date{font-size:18px;}
    .ganesh-center img{width:130px;}
    th,td{font-size:15px;}
    .rashi-card .value{font-size:18px;}
}
</style>
</head>
<body>

<!-- USER FORM FIRST -->
<div style="max-width:1080px;margin:auto;margin-bottom:15px;">
    <button class="download-btn" onclick="downloadCard()">üì• Download PNG</button>
</div>

<!-- MAIN PANCHANG CARD -->
<div id="card">

    <!-- HEADER -->
    <div class="top-header">
        <div class="left-info">
            <div class="title">‡§Ü‡§ú‡§ö‡•á ‡§™‡§Ç‡§ö‡§æ‡§Ç‡§ó</div>
            <div class="date" id="dateText">--</div>
            <div class="day" id="dayText">--</div>
        </div>

        <div class="ganesh-center">
            <img src="https://raw.githubusercontent.com/sanketramdasi264-prog/panchang/main/pngtree-artistic-vinayaka-chavithi-celebrations-for-ganesh-chaturthi-bal-free-transparent-png-image_14089909.png" />
        </div>

        <div class="logo-right">
            <img src="https://blogger.googleusercontent.com/img/a/AVvXsEghUXDnRLeFXsuapWEpRem_Mtzst5Ae9zlttWprP9nI7dQ_Rh41nkHP3PqCiHrZo1YKUiMvbHaPZC6VZEBCSvuAvzQOVF7MxUon4i3Hdko0qGWwyl4BQ44KeAe-6qQACSUB8k-3wdI6N2Bt-8xsQSQnHW-a2AMw9SwT0hK4b5Ej5zmN_anbnY1pX2TC9pwR=s500">
        </div>
    </div>

    <!-- SHALIVAHAN -->
    <div class="red-header">
        <h2 id="shakeText">‡§∂‡§æ‡§≤‡§ø‡§µ‡§æ‡§π‡§® ‡§∂‡§ï‡•á ‡•ß‡•Ø‡•™‡•≠</h2>
        <p id="shakeSub">‡§µ‡§ø‡§∂‡•ç‡§µ‡§æ‡§µ‡§∏‡•Å ‡§®‡§æ‡§Æ ‡§∏‡§Ç‡§µ‡§§‡•ç‡§∏‡§∞, ‡§¶‡§ï‡•ç‡§∑‡§ø‡§£‡§æ‡§Ø‡§®, ‡§∂‡§∞‡§¶ ‡§ã‡§§‡•Ç, ‡§ï‡§æ‡§∞‡•ç‡§§‡§ø‡§ï ‡§Æ‡§æ‡§∏, ‡§ï‡•É‡§∑‡•ç‡§£ ‡§™‡§ï‡•ç‡§∑</p>
    </div>

    <!-- BLUE SUN -->
    <div class="blue-section">
        <div class="sun-box">
            <div class="sun-icon">üåÖ</div>
            <div class="sun-data">
                <h4>‡§∏‡•Ç‡§∞‡•ç‡§Ø‡•ã‡§¶‡§Ø</h4>
                <div class="time" id="sunrise">--</div>
            </div>
        </div>

        <div class="sun-box">
            <div class="sun-icon">üåÑ</div>
            <div class="sun-data">
                <h4>‡§∏‡•Ç‡§∞‡•ç‡§Ø‡§æ‡§∏‡•ç‡§§</h4>
                <div class="time" id="sunset">--</div>
            </div>
        </div>
    </div>

    <!-- TABLE -->
    <div class="table-box">
        <table>
            <tbody>
                <tr>
                    <td class="icon">üïâÔ∏è</td>
                    <td>‡§§‡§ø‡§•‡•Ä</td>
                    <td id="tithiName">--</td>
                    <td id="tithiEnd">--</td>
                    <td id="tithiNext">--</td>
                </tr>
                <tr>
                    <td class="icon">üïâÔ∏è</td>
                    <td>‡§µ‡§æ‡§∞</td>
                    <td id="vaar">--</td>
                    <td>--</td>
                    <td id="vaarSanskrit">--</td>
                </tr>
                <tr>
                    <td class="icon">üïâÔ∏è</td>
                    <td>‡§®‡§ï‡•ç‡§∑‡§§‡•ç‡§∞</td>
                    <td id="nakshatra">--</td>
                    <td id="nakEnd">--</td>
                    <td id="nakNext">--</td>
                </tr>
                <tr>
                    <td class="icon">üïâÔ∏è</td>
                    <td>‡§Ø‡•ã‡§ó</td>
                    <td id="yog">--</td>
                    <td id="yogEnd">--</td>
                    <td>--</td>
                </tr>
                <tr>
                    <td class="icon">üïâÔ∏è</td>
                    <td>‡§ï‡§∞‡§£</td>
                    <td id="karan">--</td>
                    <td id="karanEnd">--</td>
                    <td id="karanNext">--</td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- RASHI -->
    <div class="rashi-row">
        <div class="rashi-card">
            <div class="icon">üåô</div>
            <div class="label">‡§ö‡§Ç‡§¶‡•ç‡§∞ ‡§∞‡§æ‡§∂‡•Ä</div>
            <div class="value" id="moonRashi">--</div>
        </div>
        <div class="rashi-card">
            <div class="icon">‚òÄÔ∏è</div>
            <div class="label">‡§∏‡•Ç‡§∞‡•ç‡§Ø ‡§∞‡§æ‡§∂‡•Ä</div>
            <div class="value" id="sunRashi">--</div>
        </div>
        <div class="rashi-card">
            <div class="icon">üü†</div>
            <div class="label">‡§ó‡•Å‡§∞‡•Å ‡§∞‡§æ‡§∂‡•Ä</div>
            <div class="value" id="guruRashi">--</div>
        </div>
    </div>

    <!-- FOOTER -->
    <div class="footer">
        <div class="footer-left">
            <div class="name" id="footerName">‡§§‡•Å‡§Æ‡§ö‡•á ‡§®‡§æ‡§µ</div>
            <div class="office" id="footerOffice">‡§ï‡§æ‡§∞‡•ç‡§Ø‡§æ‡§≤‡§Ø</div>
            <div class="contact" id="footerContact">‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï:</div>
        </div>
        <div class="footer-right">
            <img id="footerPhoto" src="">
        </div>
    </div>

</div>

<script>
/* LOAD JSON FROM panchang.json */
async function loadPanchang(){
    const today = new Date();
    const key = today.toISOString().split("T")[0]; // YYYY-MM-DD

    const res = await fetch("panchang.json");
    const data = await res.json();

    if(!data[key]){
        alert("‡§Ü‡§ú‡§ö‡§æ Panchang JSON ‡§Æ‡§ß‡•ç‡§Ø‡•á ‡§®‡§æ‡§π‡•Ä!");
        return;
    }

    let d = data[key];

    document.getElementById("dateText").innerText =
        today.getDate()+"-"+(today.getMonth()+1)+"-"+today.getFullYear();

    const weekday = ["‡§∞‡§µ‡§ø‡§µ‡§æ‡§∞","‡§∏‡•ã‡§Æ‡§µ‡§æ‡§∞","‡§Æ‡§Ç‡§ó‡§≥‡§µ‡§æ‡§∞","‡§¨‡•Å‡§ß‡§µ‡§æ‡§∞","‡§ó‡•Å‡§∞‡•Å‡§µ‡§æ‡§∞","‡§∂‡•Å‡§ï‡•ç‡§∞‡§µ‡§æ‡§∞","‡§∂‡§®‡§ø‡§µ‡§æ‡§∞"];
    document.getElementById("dayText").innerText = weekday[today.getDay()];

    document.getElementById("sunrise").innerText = d.sunrise;
    document.getElementById("sunset").innerText = d.sunset;

    document.getElementById("tithiName").innerText = d.tithi;
    document.getElementById("tithiEnd").innerText = d.tithi_end+" ‡§™";
    document.getElementById("tithiNext").innerText = "‡§®‡§Ç ‚Äî "+d.next_tithi;

    document.getElementById("vaar").innerText = weekday[today.getDay()];
    document.getElementById("vaarSanskrit").innerText = d.vaar_sanskrit;

    document.getElementById("nakshatra").innerText = d.nakshatra;
    document.getElementById("nakEnd").innerText = d.nakshatra_end+" ‡§™";
    document.getElementById("nakNext").innerText = "‡§®‡§Ç ‚Äî "+d.next_nak;

    document.getElementById("yog").innerText = d.yog;
    document.getElementById("yogEnd").innerText = d.yog_end;

    document.getElementById("karan").innerText = d.karan;
    document.getElementById("karanEnd").innerText = d.karan_end+" ‡§™";
    document.getElementById("karanNext").innerText = "‡§®‡§Ç ‚Äî "+d.next_karan;

    document.getElementById("moonRashi").innerText = d.moon_rashi;
    document.getElementById("sunRashi").innerText = d.sun_rashi;
    document.getElementById("guruRashi").innerText = d.guru_rashi;
}

/* DOWNLOAD */
async function downloadCard(){
    const element = document.getElementById("card");

    const canvas = await html2canvas(element,{
        scale:2,
        useCORS:true
    });

    const link=document.createElement("a");
    link.download="panchang.png";
    link.href=canvas.toDataURL("image/png");
    link.click();
}

loadPanchang();
</script>

</body>
</html>
